# C++ Concepts for Dimension Checking

'Boost.Units` is a library for doing compile-time unit conversions and dimensional analysis. It is a great library, but
can be a little difficult to use. I have a set of a set of [unit definition](https://github.com/CD3/BoostUnitDefinitions) that (in my opinion),
make it easier to use, but it still has its challenges. One difficulty is the error messages. The library uses templates for the compile-time
calculations, and anyone that has used templates knows the error messages can be terrible.

This is actually one of the motivations for Mateusz Pusz's [mp-units](https://github.com/mpusz/mp-units) library. That library makes uses of C++ 20
features, including concnepts, to create a better user experience.

This repos contains a small example that demonstrates how C++ 20 Concepts can be used with Boost.Units to make a better (not great) user experience
when it comes to dimension errors. By defining concepts for specific dimensions, functions that take quanties as input and return quantities as output
can be decorated to 1) clearly indicate the dimension requirements, and 2) provide more helpful error messages that point to the dimension error as
the source of the compile error.

Without concepts, these checks can be implemented as static asserts, but using asserts is more verbose, and is not visible in the function signature.

Here is a simple example that shows three different implementations of a function that computes the area from two lengths.

<!---
file: quantity_concepts.cpp
-->
```cpp
#include <BoostUnitDefinitions/Units.hpp>
#include <boost/units/quantity.hpp>
#include <concepts>
#include <iostream>
#include <type_traits>

namespace t = boost::units::t;
namespace i = boost::units::i;
using boost::units::quantity;

template <typename T, typename U>
struct have_same_dimensions {
  static const bool value = std::is_same<typename T::dimension_type,
                                         typename U::dimension_type>::value;
};

namespace c
{
template <typename U>
concept Length = have_same_dimensions<U, t::cm>::value;
template <typename U>
concept Area = have_same_dimensions<U, t::cm_p2>::value;
template <typename U>
concept Time = have_same_dimensions<U, t::s>::value;
}  // namespace c

template <typename R, typename U1, typename U2>
quantity<R> area1(quantity<U1> a_L, quantity<U2> a_W)
{
  // don't do any checks, just try to convert to the return unit
  return quantity<R>(a_L * a_W);
}

template <typename R, typename U1, typename U2>
quantity<R> area2(quantity<U1> a_L, quantity<U2> a_W)
{
  // check that everything has the correct dimensions with static asserts
  static_assert(have_same_dimensions<U1, t::cm>::value,
                "a_L must be a length.");
  static_assert(have_same_dimensions<U2, t::cm>::value,
                "a_W must be a length.");
  static_assert(have_same_dimensions<R, t::cm_p2>::value, "R must be an area.");
  return quantity<R>(a_L * a_W);
}

template <c::Area R, c::Length U1, c::Length U2>
quantity<R> area3(quantity<U1> a_L, quantity<U2> a_W)
{
  return quantity<R>(a_L * a_W);
}

int main()
{
  quantity<t::cm> L = 20 * i::cm;
  quantity<t::mm> W = 20 * i::mm;
  quantity<t::ms> t = 20 * i::ms;

  {
    auto A = area1<t::cm_p2>(L, W);
    std::cout << A << std::endl;
  }
  {
    auto A = area2<t::cm_p2>(L, W);
    std::cout << A << std::endl;
  }
  {
    auto A = area3<t::cm_p2>(L, W);
    std::cout << A << std::endl;
  }
  {
      /* auto A = area1<t::cm_p2>(L, t); */
      // This gives a GIANT message about `converstion_factor_helper`.
      // Basically, the function is called, the arguments are multiplied, and we
      // don't get an error until we try to convert the result to t::cm_p2
  } {
      /* auto A = area2<t::cm_p2>(L, t); */
      // This gives a GIANT message about `converstion_factor_helper`.
      // Basically, the function is called, the arguments are multiplied, and we
      // don't get an error until we try to convert the result to t::cm_p2
  } {
    auto A = area3<t::cm_p2>(L, t);
    // This gives a much shorter error message that says there is no
    // matching function call, and at the end is says that a concept expression
    // evaluated to 'false'
    /* auto A = area2<t::cm>(L, W); */
  }

  return 0;
}
```

The function `area1(...)` does no dimension checks, but it fails to compile. The error that is reported is long, and references
a `conversion_factor_helper`, which is a type define/used by the Boost.Units library. After you use Boost.Units for a while, you
just know that when you see a large `conversion_factor_helper` error, it means you have a dimensions error somewhere that you need to find and fix.

<!---
file: error.1.txt
-->
```bash
cmake --build build --config Debug
[1/2] Building CXX object CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o
FAILED: CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o 
/usr/bin/c++ -DCMAKE_INTDIR=\"Debug\" -isystem /home/cclark/.conan2/p/cd3-b7e3590cfe062b/p/include -isystem /home/cclark/.conan2/p/boost4323486387342/p/include -m64 -g -std=gnu++20 -MD -MT CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o -MF CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o.d -o CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o -c /home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp
In file included from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp:17,
                 from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/degree.hpp:14,
                 from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/arcminute.hpp:17,
                 from /home/cclark/.conan2/p/cd3-b7e3590cfe062b/p/include/BoostUnitDefinitions/Units.hpp:4,
                 from /home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:1:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/detail/conversion_impl.hpp: In instantiation of ‘static constexpr boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::destination_type boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::convert(const boost::units::quantity<Unit1, T1>&) [with Unit1 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>; T1 = double; Unit2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; T2 = double; boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::destination_type = boost::units::quantity<boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>, double>]’:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/quantity.hpp:193:77:   required from ‘constexpr boost::units::quantity<Unit, Y>::quantity(const boost::units::quantity<Unit2, YY>&, typename boost::disable_if<boost::mpl::and_<typename boost::units::is_implicitly_convertible<Unit2, Unit>::type, boost::units::detail::is_non_narrowing_conversion<YY, Y> >, typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type>::type*) [with Unit2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>; YY = double; Unit = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; Y = double; typename boost::disable_if<boost::mpl::and_<typename boost::units::is_implicitly_convertible<Unit2, Unit>::type, boost::units::detail::is_non_narrowing_conversion<YY, Y> >, typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type>::type = void; typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type = void; typename boost::units::is_implicitly_convertible<Unit2, Unit>::type = boost::integral_constant<bool, false>]’
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:31:10:   required from ‘boost::units::quantity<R> area1(boost::units::quantity<U1>, boost::units::quantity<U2>) [with R = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U1 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>]’
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:71:29:   required from here
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/detail/conversion_impl.hpp:340:95: error: no matching function for call to ‘conversion_factor(boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>, boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>)’
  340 |         return(destination_type::from_value(static_cast<T2>(source.value() * conversion_factor(Unit1(), Unit2()))));
      |                                                                              ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~
In file included from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/degree.hpp:14,
                 from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/arcminute.hpp:17,
                 from /home/cclark/.conan2/p/cd3-b7e3590cfe062b/p/include/BoostUnitDefinitions/Units.hpp:4,
                 from /home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:1:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp:177:1: note: candidate: ‘template<class FromUnit, class ToUnit> constexpr typename boost::units::one_to_double_type<typename boost::units::detail::conversion_factor_helper<Source, Dest>::type>::type boost::units::conversion_factor(const FromUnit&, const ToUnit&)’
  177 | conversion_factor(const FromUnit&,const ToUnit&)
      | ^~~~~~~~~~~~~~~~~
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp:177:1: note:   template argument deduction/substitution failed:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp: In substitution of ‘template<class FromUnit, class ToUnit> constexpr typename boost::units::one_to_double_type<typename boost::units::detail::conversion_factor_helper<Source, Dest>::type>::type boost::units::conversion_factor(const FromUnit&, const ToUnit&) [with FromUnit = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>; ToUnit = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>]’:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/detail/conversion_impl.hpp:340:95:   required from ‘static constexpr boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::destination_type boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::convert(const boost::units::quantity<Unit1, T1>&) [with Unit1 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>; T1 = double; Unit2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; T2 = double; boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::destination_type = boost::units::quantity<boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>, double>]’
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/quantity.hpp:193:77:   required from ‘constexpr boost::units::quantity<Unit, Y>::quantity(const boost::units::quantity<Unit2, YY>&, typename boost::disable_if<boost::mpl::and_<typename boost::units::is_implicitly_convertible<Unit2, Unit>::type, boost::units::detail::is_non_narrowing_conversion<YY, Y> >, typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type>::type*) [with Unit2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>; YY = double; Unit = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; Y = double; typename boost::disable_if<boost::mpl::and_<typename boost::units::is_implicitly_convertible<Unit2, Unit>::type, boost::units::detail::is_non_narrowing_conversion<YY, Y> >, typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type>::type = void; typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type = void; typename boost::units::is_implicitly_convertible<Unit2, Unit>::type = boost::integral_constant<bool, false>]’
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:31:10:   required from ‘boost::units::quantity<R> area1(boost::units::quantity<U1>, boost::units::quantity<U2>) [with R = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U1 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>]’
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:71:29:   required from here
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp:177:1: error: invalid use of incomplete type ‘struct boost::units::detail::conversion_factor_helper<boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>, boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void> >’
In file included from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp:17,
                 from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/degree.hpp:14,
                 from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/arcminute.hpp:17,
                 from /home/cclark/.conan2/p/cd3-b7e3590cfe062b/p/include/BoostUnitDefinitions/Units.hpp:4,
                 from /home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:1:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/detail/conversion_impl.hpp:40:8: note: declaration of ‘struct boost::units::detail::conversion_factor_helper<boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>, boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void> >’
   40 | struct conversion_factor_helper;
      |        ^~~~~~~~~~~~~~~~~~~~~~~~
ninja: build stopped: subcommand failed.
```

Not only is this error message long (35 lines), but it does not tell us what the dimension error was. We have to go to the source of the error and look at the expression that
caused the error. For long expressions, it can be difficult to see what is causing the error. Even so, it is better than silently compiling in a dimension error.

The function `area2(...)` uses static assert to check the dimensions of both inputs and the return type, and provide a message indicated what is wrong if they
don't have the correct dimensions. This will produce a compiler error like this:

<!---
file: error.2.txt
-->
```bash
cmake --build build --config Debug
[1/2] Building CXX object CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o
FAILED: CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o 
/usr/bin/c++ -DCMAKE_INTDIR=\"Debug\" -isystem /home/cclark/.conan2/p/cd3-b7e3590cfe062b/p/include -isystem /home/cclark/.conan2/p/boost4323486387342/p/include -m64 -g -std=gnu++20 -MD -MT CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o -MF CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o.d -o CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o -c /home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp: In instantiation of ‘boost::units::quantity<R> area2(boost::units::quantity<U1>, boost::units::quantity<U2>) [with R = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U1 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>]’:
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:76:29:   required from here
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:40:50: error: static assertion failed: a_W must be a length.
   40 |   static_assert(have_same_dimensions<U2, t::cm>::value,
      |                                                  ^~~~~
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:40:50: note: ‘have_same_dimensions<boost::units::unit<boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>, boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void> >::value’ evaluates to false
In file included from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp:17,
                 from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/degree.hpp:14,
                 from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/arcminute.hpp:17,
                 from /home/cclark/.conan2/p/cd3-b7e3590cfe062b/p/include/BoostUnitDefinitions/Units.hpp:4,
                 from /home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:1:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/detail/conversion_impl.hpp: In instantiation of ‘static constexpr boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::destination_type boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::convert(const boost::units::quantity<Unit1, T1>&) [with Unit1 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>; T1 = double; Unit2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; T2 = double; boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::destination_type = boost::units::quantity<boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>, double>]’:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/quantity.hpp:193:77:   required from ‘constexpr boost::units::quantity<Unit, Y>::quantity(const boost::units::quantity<Unit2, YY>&, typename boost::disable_if<boost::mpl::and_<typename boost::units::is_implicitly_convertible<Unit2, Unit>::type, boost::units::detail::is_non_narrowing_conversion<YY, Y> >, typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type>::type*) [with Unit2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>; YY = double; Unit = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; Y = double; typename boost::disable_if<boost::mpl::and_<typename boost::units::is_implicitly_convertible<Unit2, Unit>::type, boost::units::detail::is_non_narrowing_conversion<YY, Y> >, typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type>::type = void; typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type = void; typename boost::units::is_implicitly_convertible<Unit2, Unit>::type = boost::integral_constant<bool, false>]’
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:43:10:   required from ‘boost::units::quantity<R> area2(boost::units::quantity<U1>, boost::units::quantity<U2>) [with R = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U1 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>]’
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:76:29:   required from here
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/detail/conversion_impl.hpp:340:95: error: no matching function for call to ‘conversion_factor(boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>, boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>)’
  340 |         return(destination_type::from_value(static_cast<T2>(source.value() * conversion_factor(Unit1(), Unit2()))));
      |                                                                              ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~
In file included from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/degree.hpp:14,
                 from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/arcminute.hpp:17,
                 from /home/cclark/.conan2/p/cd3-b7e3590cfe062b/p/include/BoostUnitDefinitions/Units.hpp:4,
                 from /home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:1:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp:177:1: note: candidate: ‘template<class FromUnit, class ToUnit> constexpr typename boost::units::one_to_double_type<typename boost::units::detail::conversion_factor_helper<Source, Dest>::type>::type boost::units::conversion_factor(const FromUnit&, const ToUnit&)’
  177 | conversion_factor(const FromUnit&,const ToUnit&)
      | ^~~~~~~~~~~~~~~~~
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp:177:1: note:   template argument deduction/substitution failed:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp: In substitution of ‘template<class FromUnit, class ToUnit> constexpr typename boost::units::one_to_double_type<typename boost::units::detail::conversion_factor_helper<Source, Dest>::type>::type boost::units::conversion_factor(const FromUnit&, const ToUnit&) [with FromUnit = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>; ToUnit = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>]’:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/detail/conversion_impl.hpp:340:95:   required from ‘static constexpr boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::destination_type boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::convert(const boost::units::quantity<Unit1, T1>&) [with Unit1 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>; T1 = double; Unit2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; T2 = double; boost::units::conversion_helper<boost::units::quantity<Unit1, T1>, boost::units::quantity<Unit2, T2> >::destination_type = boost::units::quantity<boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>, double>]’
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/quantity.hpp:193:77:   required from ‘constexpr boost::units::quantity<Unit, Y>::quantity(const boost::units::quantity<Unit2, YY>&, typename boost::disable_if<boost::mpl::and_<typename boost::units::is_implicitly_convertible<Unit2, Unit>::type, boost::units::detail::is_non_narrowing_conversion<YY, Y> >, typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type>::type*) [with Unit2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>; YY = double; Unit = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; Y = double; typename boost::disable_if<boost::mpl::and_<typename boost::units::is_implicitly_convertible<Unit2, Unit>::type, boost::units::detail::is_non_narrowing_conversion<YY, Y> >, typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type>::type = void; typename boost::units::detail::disable_if_is_same<Unit, Unit2>::type = void; typename boost::units::is_implicitly_convertible<Unit2, Unit>::type = boost::integral_constant<bool, false>]’
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:43:10:   required from ‘boost::units::quantity<R> area2(boost::units::quantity<U1>, boost::units::quantity<U2>) [with R = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U1 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>]’
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:76:29:   required from here
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp:177:1: error: invalid use of incomplete type ‘struct boost::units::detail::conversion_factor_helper<boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>, boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void> >’
In file included from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/conversion.hpp:17,
                 from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/degree.hpp:14,
                 from /home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/base_units/angle/arcminute.hpp:17,
                 from /home/cclark/.conan2/p/cd3-b7e3590cfe062b/p/include/BoostUnitDefinitions/Units.hpp:4,
                 from /home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:1:
/home/cclark/.conan2/p/boost4323486387342/p/include/boost/units/detail/conversion_impl.hpp:40:8: note: declaration of ‘struct boost::units::detail::conversion_factor_helper<boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type> >, boost::units::dimensionless_type> >, void>, boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void> >’
   40 | struct conversion_factor_helper;
      |        ^~~~~~~~~~~~~~~~~~~~~~~~
ninja: build stopped: subcommand failed.
```

This message is even longer than the previous message (45 lines), and it still shows the `conversion_factor_helper` struct at the end. However, it does contain
static_assert near the top, so we can at least see which quantity is causing the problem.

The function `area3(...)` uses concepts to "constrain" the template parameters. It is clear from the function signature that the function takes two lengths and
returns an area. If we make a dimension error, the function will fail to compile and we get a message that looks like this:
<!---
file: error.3.txt
-->
```bash
cmake --build build --config Debug
[1/2] Building CXX object CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o
FAILED: CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o 
/usr/bin/c++ -DCMAKE_INTDIR=\"Debug\" -isystem /home/cclark/.conan2/p/cd3-b7e3590cfe062b/p/include -isystem /home/cclark/.conan2/p/boost4323486387342/p/include -m64 -g -std=gnu++20 -MD -MT CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o -MF CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o.d -o CMakeFiles/quantity_concepts.dir/Debug/quantity_concepts.cpp.o -c /home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp: In function ‘int main()’:
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:81:29: error: no matching function for call to ‘area3<boost::units::t::cm_p2>(boost::units::quantity<boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void> >&, boost::units::quantity<boost::units::unit<boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void> >&)’
   81 |     auto A = area3<t::cm_p2>(L, t);
      |              ~~~~~~~~~~~~~~~^~~~~~
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:47:13: note: candidate: ‘template<class R, class U1, class U2>  requires (Area<R>) && (Length<U1>) && (Length<U2>) boost::units::quantity<R> area3(boost::units::quantity<U1>, boost::units::quantity<U2>)’
   47 | quantity<R> area3(quantity<U1> a_L, quantity<U2> a_W)
      |             ^~~~~
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:47:13: note:   template argument deduction/substitution failed:
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:47:13: note: constraints not satisfied
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp: In substitution of ‘template<class R, class U1, class U2>  requires (Area<R>) && (Length<U1>) && (Length<U2>) boost::units::quantity<R> area3(boost::units::quantity<U1>, boost::units::quantity<U2>) [with R = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<2> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U1 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>; U2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3> > >, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>]’:
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:81:29:   required from here
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:20:9:   required for the satisfaction of ‘Length<U2>’ [with U2 = boost::units::unit<boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1, 1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3, 1> > >, boost::units::static_rational<1, 1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1, 1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>]
/home/cclark/Code/sync/Experiment/c++20/concepts/quantity_concepts.cpp:20:50: note: the expression ‘have_same_dimensions<U, boost::units::unit<boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1, 1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::meter_base_unit, boost::units::scale<10, boost::units::static_rational<-2, 1> > >, boost::units::static_rational<1, 1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::length_base_dimension, boost::units::static_rational<1, 1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void> >::value [with U = boost::units::unit<boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1, 1> >, boost::units::dimensionless_type>, boost::units::heterogeneous_system<boost::units::heterogeneous_system_impl<boost::units::list<boost::units::heterogeneous_system_dim<boost::units::scaled_base_unit<boost::units::si::second_base_unit, boost::units::scale<10, boost::units::static_rational<-3, 1> > >, boost::units::static_rational<1, 1> >, boost::units::dimensionless_type>, boost::units::list<boost::units::dim<boost::units::time_base_dimension, boost::units::static_rational<1, 1> >, boost::units::dimensionless_type>, boost::units::dimensionless_type> >, void>]’ evaluated to ‘false’
   20 | concept Length = have_same_dimensions<U, t::cm>::value;
      |                                                  ^~~~~
ninja: build stopped: subcommand failed.
```

This message is almost half as long as the others (20 lines), and the cause of the error is given right at the end. The concepts help detect and report errors better.

Notice that the concept definitions are pretty simple, and we can mix functions that do and do not use concepts. So it is feasible to start adding concepts to a library
gradually, it is not all or nothing.

I will likely be adding concepts to my [BoostUnitDefinitions](https://github.com/CD3/BoostUnitDefinitions) library.
